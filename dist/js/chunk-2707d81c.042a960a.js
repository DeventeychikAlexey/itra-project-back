(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2707d81c"],{"13a0":function(e,t,i){"use strict";i.r(t);var c=i("7a23"),n={class:"mb-2"},l=Object(c["i"])("hr",null,null,-1),o={class:"text-center mb-5"},a=Object(c["i"])("strong",null," Создать айтем",-1),r={class:"d-flex justify-content-center p-2"},s=Object(c["i"])("hr",null,null,-1),d=Object(c["i"])("h3",{class:"text-center mb-4"}," Айтемы ",-1),u={key:0,class:"text-center fs-5"},b={key:1},m=Object(c["i"])("input",{class:"form-control p-1 rounded",type:"text",placeholder:"Найти айтем по названию"},null,-1),f=Object(c["i"])("br",null,null,-1),O=Object(c["i"])("br",null,null,-1),j={key:1,class:"text-center fs-5"};function p(e,t,i,p,x,h){var v=Object(c["G"])("Head"),y=Object(c["G"])("CreateItem"),g=Object(c["G"])("Items");return Object(c["x"])(),Object(c["h"])("div",null,[Object(c["i"])("div",n,[Object(c["k"])(v,{collection:x.collection,buttons:h.buttons},null,8,["collection","buttons"])]),Object(c["i"])("div",null,[l,Object(c["i"])("h3",o,[a,Object(c["i"])("div",r,[Object(c["k"])(y,{id:x.collection.id,onUpdateItems:e.updateItems},null,8,["id","onUpdateItems"])])])]),s,d,0==x.items.length?(Object(c["x"])(),Object(c["h"])("p",u," Пока что нету айтемов :( ")):(Object(c["x"])(),Object(c["h"])("div",b,[m,f,O,x.items.length>0?(Object(c["x"])(),Object(c["f"])(g,{key:0,isInCollection:x.isCollection,items:x.items},null,8,["isInCollection","items"])):(Object(c["x"])(),Object(c["h"])("p",j," Айтемов пока что нету :( "))]))])}var x=i("1da1"),h=i("5530"),v=(i("96cf"),i("f89d"));i("99af"),i("b0c0");Object(c["A"])("data-v-01a7973a");var y={class:"card-body"},g={class:"form-outline border rounded-3"},C=Object(c["i"])("h6",{class:"text-start mt-3"},"Количество полей:",-1),T={class:" row mb-4 g-2"},k={class:"col-xl-4 col-md-6 col-12 form-outline border rounded-3"},E=["max","min"],w=Object(c["i"])("label",{class:"form-label",for:"typeNumber1"},"Числовые",-1),N={class:"col-xl-4 col-md-6 col-12 form-outline border rounded-3 "},I=["max","min"],F=Object(c["i"])("label",{class:"form-label",for:"typeNumber2"},"Текстовые",-1),_={class:"col-xl-4 col-md-6 col-12 form-outline border rounded-3 "},D=["max","min"],U=Object(c["i"])("label",{class:"form-label",for:"typeNumber3"},"Строковые",-1),V={class:"col-xl-4 col-md-6 col-12 form-outline border rounded-3 "},L=["max","min"],S=Object(c["i"])("label",{class:"form-label",for:"typeNumber4"},"Даты",-1),B={class:"col-xl-4 col-md-6 col-12 form-outline border rounded-3  "},M=["max","min"],A=Object(c["i"])("label",{class:"form-label",for:"typeNumber5"},"Логические",-1),R={class:"row mb-4"},$={key:0,class:"col-xl-4 col-md-6 col-12"},G=Object(c["i"])("h6",{class:"text-start mt-3"},"Числовые поля:",-1),J={key:1,class:"col-xl-4 col-md-6 col-12"},P=Object(c["i"])("h6",{class:"text-start mt-3"},"Текстовые поля:",-1),q={key:2,class:"col-xl-4 col-md-6 col-12"},Y=Object(c["i"])("h6",{class:"text-start mt-3"},"Строковые поля:",-1),H={key:3,class:"col-xl-4 col-md-6 col-12"},z=Object(c["i"])("h6",{class:"text-start mt-3"},"Поля дат:",-1),K={key:4,class:"col-xl-4 col-md-6 col-12"},Q=Object(c["i"])("h6",{class:"text-start mt-3"},"Логические поля:",-1),W=["disabled"];function X(e,t,i,n,l,o){var a=Object(c["G"])("Fields");return Object(c["x"])(),Object(c["h"])("div",{class:Object(c["r"])("card w-100 shadow-sm bg-".concat(e.theme," text-").concat(e.themeText))},[Object(c["i"])("div",y,[Object(c["i"])("form",{onSubmit:t[6]||(t[6]=Object(c["V"])((function(){return o.createItem&&o.createItem.apply(o,arguments)}),["prevent"]))},[Object(c["i"])("div",g,[Object(c["U"])(Object(c["i"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.item.name=e}),type:"text",id:"form8Example1",class:"form-control"},null,512),[[c["P"],l.item.name]]),Object(c["i"])("label",{for:"form8Example1",class:Object(c["r"])("form-label fs-6 text-".concat(e.themeText))},Object(c["J"])(e.$t("component.collection.create.name")),3)]),C,Object(c["i"])("div",T,[Object(c["i"])("div",k,[Object(c["U"])(Object(c["i"])("input",{type:"number",id:"typeNumber1",max:l.maxCount,min:l.minCount,class:"form-control active","onUpdate:modelValue":t[1]||(t[1]=function(e){return l.countFieldsNumber=e})},null,8,E),[[c["P"],l.countFieldsNumber,void 0,{number:!0}]]),w]),Object(c["i"])("div",N,[Object(c["U"])(Object(c["i"])("input",{type:"number",id:"typeNumber2",max:l.maxCount,min:l.minCount,class:"form-control active","onUpdate:modelValue":t[2]||(t[2]=function(e){return l.countFieldsText=e})},null,8,I),[[c["P"],l.countFieldsText,void 0,{number:!0}]]),F]),Object(c["i"])("div",_,[Object(c["U"])(Object(c["i"])("input",{type:"number",id:"typeNumber3",max:l.maxCount,min:l.minCount,class:"form-control active","onUpdate:modelValue":t[3]||(t[3]=function(e){return l.countFieldsString=e})},null,8,D),[[c["P"],l.countFieldsString,void 0,{number:!0}]]),U]),Object(c["i"])("div",V,[Object(c["U"])(Object(c["i"])("input",{type:"number",id:"typeNumber4",max:l.maxCount,min:l.minCount,class:"form-control active","onUpdate:modelValue":t[4]||(t[4]=function(e){return l.countFieldsDate=e})},null,8,L),[[c["P"],l.countFieldsDate,void 0,{number:!0}]]),S]),Object(c["i"])("div",B,[Object(c["U"])(Object(c["i"])("input",{type:"number",id:"typeNumber5",max:l.maxCount,min:l.minCount,class:"form-control active","onUpdate:modelValue":t[5]||(t[5]=function(e){return l.countFieldsBoolean=e})},null,8,M),[[c["P"],l.countFieldsBoolean,void 0,{number:!0}]]),A])]),Object(c["i"])("div",R,[l.item.fieldsNumber.length>0?(Object(c["x"])(),Object(c["h"])("div",$,[G,Object(c["k"])(a,{fields:l.item.fieldsNumber,type:"number"},null,8,["fields"])])):Object(c["g"])("",!0),l.item.fieldsText.length>0?(Object(c["x"])(),Object(c["h"])("div",J,[P,Object(c["k"])(a,{fields:l.item.fieldsText,type:"text"},null,8,["fields"])])):Object(c["g"])("",!0),l.item.fieldsString.length>0?(Object(c["x"])(),Object(c["h"])("div",q,[Y,Object(c["k"])(a,{fields:l.item.fieldsString,type:"text"},null,8,["fields"])])):Object(c["g"])("",!0),l.item.fieldsDate.length>0?(Object(c["x"])(),Object(c["h"])("div",H,[z,Object(c["k"])(a,{fields:l.item.fieldsDate,type:"date"},null,8,["fields"])])):Object(c["g"])("",!0),l.item.fieldsBoolean.length>0?(Object(c["x"])(),Object(c["h"])("div",K,[Q,Object(c["k"])(a,{fields:l.item.fieldsBoolean,type:"boolean"},null,8,["fields"])])):Object(c["g"])("",!0)]),Object(c["i"])("button",{type:"submit",class:"w-100 btn btn-lg btn-primary",disabled:o.disabled},Object(c["J"])(e.$t("component.collection.create.button")),9,W)],32)])],2)}Object(c["y"])();i("a9e3"),i("fb6a");var Z=i("a306"),ee={class:"d-flex flex-column me-4"};function te(e,t,i,n,l,o){var a=Object(c["G"])("Field");return Object(c["x"])(),Object(c["h"])("div",ee,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["E"])(i.fields,(function(e,t){return Object(c["x"])(),Object(c["h"])("div",{key:t,class:"mb-2"},[Object(c["k"])(a,{field:e,index:2*t,type:i.type},null,8,["field","index","type"])])})),128))])}var ie={class:"d-flex"},ce={class:"form-outline border rounded-3 me-2"},ne=["id"],le=["for"],oe={key:0,class:"form-outline border rounded-3 "},ae=["type","id"],re=["for"],se={key:1},de={class:"form-check"},ue=["name","id"],be=["for"],me={class:"form-check"},fe=["name","id"],Oe=["for"];function je(e,t,i,n,l,o){return Object(c["x"])(),Object(c["h"])("div",ie,[Object(c["i"])("div",ce,[Object(c["U"])(Object(c["i"])("input",{type:"text",class:"form-control active",id:"fieldTitle".concat(i.index),"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.field.title=e})},null,8,ne),[[c["P"],i.field.title]]),Object(c["i"])("label",{class:"form-label fs-6",for:"fieldTitle".concat(i.index)},"Название поля "+Object(c["J"])(i.index/2+1),9,le)]),"boolean"!=i.type?(Object(c["x"])(),Object(c["h"])("div",oe,[Object(c["U"])(Object(c["i"])("input",{type:i.type,class:"form-control active",id:"fieldValue".concat(i.index),"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.field.value=e})},null,8,ae),[[c["N"],i.field.value]]),Object(c["i"])("label",{class:"form-label fs-6",for:"fieldValue".concat(i.index)},"Значение поля "+Object(c["J"])(i.index/2+1),9,re)])):(Object(c["x"])(),Object(c["h"])("div",se,[Object(c["i"])("div",de,[Object(c["U"])(Object(c["i"])("input",{class:"form-check-input",type:"radio",name:"fieldValue".concat(i.index),id:"fieldValue".concat(i.index),value:"true","onUpdate:modelValue":t[2]||(t[2]=function(e){return i.field.value=e}),checked:""},null,8,ue),[[c["O"],i.field.value]]),Object(c["i"])("label",{class:"form-check-label",for:"fieldValue".concat(i.index)}," Правда ",8,be)]),Object(c["i"])("div",me,[Object(c["U"])(Object(c["i"])("input",{class:"form-check-input",type:"radio",name:"fieldValue".concat(i.index),id:"fieldValue".concat(i.index+1),value:"false","onUpdate:modelValue":t[3]||(t[3]=function(e){return i.field.value=e})},null,8,fe),[[c["O"],i.field.value]]),Object(c["i"])("label",{class:"form-check-label",for:"fieldValue".concat(i.index+1)}," Ложь ",8,Oe)])]))])}var pe={props:{index:{type:Number,required:!0},field:{type:Object,required:!0},type:{type:String,required:!0}}};pe.render=je;var xe=pe,he={props:{fields:{type:Array,required:!0},type:{type:String,required:!0}},components:{Field:xe}};he.render=te;var ve=he,ye=i("5502"),ge={components:{Multiselect:Z["a"],Fields:ve},props:{id:{type:Number,required:!0}},data:function(){return{blocked:!1,maxCount:6,minCount:0,countFieldsNumber:0,countFieldsText:0,countFieldsString:0,countFieldsDate:0,countFieldsBoolean:0,item:{name:"",fieldsNumber:[],fieldsText:[],fieldsString:[],fieldsDate:[],fieldsBoolean:[]},fieldsNumberCopy:[],fieldsTextCopy:[],fieldsStringCopy:[],fieldsDateCopy:[],fieldsBooleanCopy:[]}},computed:Object(h["a"])(Object(h["a"])({},Object(ye["c"])(["topics","theme","themeText","isAdmin"])),{},{disabled:function(){return this.blocked}}),watch:{countFieldsNumber:function(e){this.item.fieldsNumber=this.createFields(this.fieldsNumberCopy,e)},countFieldsText:function(e){this.item.fieldsText=this.createFields(this.fieldsTextCopy,e)},countFieldsString:function(e){this.item.fieldsString=this.createFields(this.fieldsStringCopy,e)},countFieldsDate:function(e){this.item.fieldsDate=this.createFields(this.fieldsDateCopy,e,"date")},countFieldsBoolean:function(e){this.item.fieldsBoolean=this.createFields(this.fieldsBooleanCopy,e)}},methods:Object(h["a"])(Object(h["a"])({},Object(ye["b"])(["CREATE_MY_ITEM","CREATE_ITEM"])),{},{createFields:function(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=0;c<t&&c<this.maxCount;c++)if(e[c]||"date"!==i)e[c]||(e[c]={title:"",value:""});else{var n=new Date;e[c]={title:"",value:"".concat(n.getFullYear(),"-").concat(n.getMonth()+1>=10?n.getMonth()+1:"0"+(n.getMonth()+1),"-").concat(n.getDate()>=10?n.getDate():"0"+n.getDay())}}return t>this.maxCount?e.slice(0,this.maxCount):e.slice(0,t)},clearForm:function(){},createMyItem:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.CREATE_MY_ITEM({name:e.item.name,fieldsNumber:e.item.fieldsNumber,fieldsText:e.item.fieldsText,fieldsString:e.item.fieldsString,fieldsDate:e.item.fieldsDate,fieldsBoolean:e.item.fieldsBoolean});case 2:case"end":return t.stop()}}),t)})))()},createItemById:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.CREATE_ITEM({id:e.id,name:e.item.name,fieldsNumber:e.item.fieldsNumber,fieldsText:e.item.fieldsText,fieldsString:e.item.fieldsString,fieldsDate:e.item.fieldsDate,fieldsBoolean:e.item.fieldsBoolean});case 2:case"end":return t.stop()}}),t)})))()},createItem:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.blocked=!0,!e.isAdmin){t.next=5;break}return t.next=5,e.createItemById();case 5:e.$toast.success("Айтем успешно создана!"),setTimeout(e.$toast.clear,3e3),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),e.$toast.error(t.t0.response.data.msg),setTimeout(e.$toast.clear,3e3);case 13:return t.prev=13,e.blocked=!1,e.clearForm(),t.finish(13);case 17:case"end":return t.stop()}}),t,null,[[0,9,13,17]])})))()}})};i("8e42");ge.render=X,ge.__scopeId="data-v-01a7973a";var Ce=ge,Te=i("3ea2"),ke={components:{Items:v["a"],Head:Te["a"],CreateItem:Ce},data:function(){return{isCollection:!0,items:[],collection:null}},computed:Object(h["a"])(Object(h["a"])({},Object(ye["c"])(["user","isAdmin"])),{},{buttons:function(){return[{to:"",class:"btn btn-lg btn-outline-primary",show:!0,text:"Владелец",handler:this.toOwner},{to:"/collection/edit/".concat(this.collection.id),class:"btn btn-lg btn-outline-secondary",show:!this.readOnly,text:"Редактировать",handler:function(){}},{to:"/collection/".concat(this.collection.id),class:"btn btn-lg btn-outline-danger",show:!this.readOnly,text:"Удалить",handler:this.deleteCollection}]},isMyPage:function(){return this.user.id==this.collection.id_user},readOnly:function(){return!(this.user.id&&(this.isMyPage||this.isAdmin))}}),methods:Object(h["a"])(Object(h["a"])({},Object(ye["b"])(["GET_COLLECTION_ITEMS","GET_COLLECTION","DELETE_COLLECTION","DELETE_MY_COLLECTION"])),{},{toOwner:function(){this.$router.push("/user/".concat(this.collection.id_user))},deleteCollection:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!e.isAdmin){t.next=6;break}return t.next=4,e.DELETE_COLLECTION({id:e.collection.id});case 4:t.next=8;break;case 6:return t.next=8,e.DELETE_MY_COLLECTION({id:e.collection.id});case 8:e.$router.push("/user/".concat(e.collection.id_user)),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.$toast.error(t.t0.response.data.msg);case 14:return t.prev=14,setTimeout(e.$toast.clear,3e3),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,11,14,17]])})))()}}),created:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.GET_COLLECTION_ITEMS(e.$route.params.id);case 2:return e.items=t.sent,t.next=5,e.GET_COLLECTION(e.$route.params.id);case 5:e.collection=t.sent;case 6:case"end":return t.stop()}}),t)})))()}};ke.render=p;t["default"]=ke},"3ea2":function(e,t,i){"use strict";i("b0c0"),i("a4d3"),i("e01a");var c=i("7a23");Object(c["A"])("data-v-1146aad0");var n={class:"card flex-md-nowrap flex-wrap-reverse flex-row flex-1-1 mb-4 box-shadow "},l={class:"card-body d-flex flex-column align-items-start"},o={class:"card-title mb-0"},a={class:"mb-1"},r={class:"mb-2 text-muted"},s=Object(c["i"])("strong",{class:"me-1"},"Создано:",-1),d={class:"card-text mb-auto"},u={class:"card-img-right image-wrapper"};function b(e,t,i,b,m,f){var O=Object(c["G"])("Buttons"),j=Object(c["G"])("Image");return Object(c["x"])(),Object(c["h"])("div",null,[Object(c["i"])("div",n,[Object(c["i"])("div",l,[Object(c["i"])("h3",o,Object(c["J"])(f.getValidName),1),Object(c["i"])("div",a,Object(c["J"])(i.collection.topic.name),1),Object(c["i"])("div",r,[s,Object(c["j"])(Object(c["J"])(f.date),1)]),Object(c["i"])("p",d,Object(c["J"])(i.collection.description),1),Object(c["k"])(O,{class:"flex-md-nowrap mt-3",buttons:i.buttons},null,8,["buttons"])]),Object(c["i"])("div",u,[Object(c["k"])(j,{idCollection:i.collection.id},null,8,["idCollection"])])])])}Object(c["y"])();var m=i("5530"),f=i("aa14"),O=i("9666"),j=i("5502"),p={props:{collection:{type:Object,required:!0},buttons:{type:Array}},components:{Image:f["a"],Buttons:O["a"]},computed:Object(m["a"])(Object(m["a"])({},Object(j["c"])(["lang"])),{},{date:function(){return moment(this.collection.createdAt).locale(this.lang).fromNow()},getValidName:function(){return this.collection.name||"Без названия"}})};i("9adf");p.render=b,p.__scopeId="data-v-1146aad0";t["a"]=p},"660d":function(e,t,i){},"6d77":function(e,t,i){},"8e42":function(e,t,i){"use strict";i("6d77")},"9adf":function(e,t,i){"use strict";i("660d")}}]);
//# sourceMappingURL=chunk-2707d81c.042a960a.js.map